sequenceDiagram
    participant J as Jogador
    participant M as Mao
    participant C as Carta
    participant G as Jogo
    participant B as Baralho
    participant CD as Cidade

    G->>J: Início do seu turno
    activate J

    Note over J,G: Jogador realiza uma ação (ex: Tratar Doença)

    J->>G: realizarAcao(jogador, cartaTratarDoenca)
    activate G

    G->>C: ativar(jogo, jogador, **kwargs)
    activate C
    C->>J: posicao
    J-->>C: retorna Cidade
    C->>CD: reduzir_nivel_doenca(cor, quantidade)
    activate CD
    deactivate CD
    C-->>G: Ação concluída
    deactivate C
    G-->>J: Ação realizada com sucesso
    deactivate G

    Note over J,G: Fim da fase de ações. Jogador compra cartas.

    J->>G: Solicita comprar cartas
    activate G
    G->>B: comprar_carta()
    activate B
    B-->>G: Retorna Carta 1
    deactivate B
    G->>M: adicionar_carta(Carta 1)
    activate M
    deactivate M

    G->>B: comprar_carta()
    activate B
    B-->>G: Retorna Carta 2
    deactivate B
    G->>M: adicionar_carta(Carta 2)
    activate M
    deactivate M
    deactivate G

    Note over J,G: Fase de Infecção

    G->>G: aplicar_evento_doenca()
    activate G
    Note right of G: Jogo seleciona cidade para infectar
    G->>CD: adicionar_nivel_doenca(cor, 1)
    activate CD
    Note right of CD: Se o nível chegar a 4, propaga a doença
    CD->>CD: propagar_doenca(cor)
    deactivate CD
    deactivate G

    G->>G: verificarVitoria()
    G->>G: verificarDerrota()

    G->>J: Fim do turno
    deactivate J